import type { NextPage } from "next";
import Head from "next/head";
import Image from "next/image";
import { useState, useEffect } from "react";
import detectEthereumProvider from "@metamask/detect-provider";
import Web3 from "web3";
import { ethers } from "ethers";
import Link from "next/link";

const Home: NextPage = () => {
  const [account, setAccount] = useState<string>("");
  const connectWallet = () => {
    if (typeof globalThis.window?.ethereum !== "undefined") {
      window.ethereum
        .request({ method: "eth_requestAccounts" })
        .then((accounts) => {
          // Return the account of the wallet
          setAccount(accounts[0]);
        });
    } else {
      console.log("MetaMask is NOT Installed!!");
    }
  };
  return (
    <div>
      <Head>
        <title>zkScore</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="flex justify-center">
        <div>
          <h1
            className="{`
        mt-24 mb-24 text-center
        font-bold text-5xl tracking-tight
        bg-gradient-to-r from-green-500 via-blue-500 to-pink-500
        bg-clip-text text-transparent 
    `}"
          >
            zkScore
          </h1>
          {account ? (
            <div className="">
              <div className="text-white bg-violet-700 rounded-full p-8 w-[300px] h-[300px] text-center mx-auto">
                <p className="text-8xl pt-10">45</p>
                <p className="text-3xl pt-5">My Score</p>
              </div>
              <div className="pt-36 grid grid-cols-3 gap-10 mx-auto text-white place-content-around">
                <Link href="/issue">
                  <button className="bg-violet-800 py-5 px-10 rounded-3xl font-bold">
                    Issue
                  </button>
                </Link>
                <Link href="/own">
                  <button className="bg-violet-800 py-5 px-10 rounded-3xl  font-bold  ">
                    Own
                  </button>
                </Link>
                <Link href="/verification">
                  <button className="bg-violet-800 py-5 px-10 rounded-3xl  font-bold  ">
                    Verification
                  </button>
                </Link>
              </div>
            </div>
          ) : (
            <div>
              <button
                className={`
          my-8
          bg-violet-700 hover:bg-blue-400
          p-5 rounded-full font-bold transition duration-300
          text-white ml-9
          `}
                onClick={connectWallet}
              >
                Connect Wallet
              </button>
            </div>
          )}
        </div>
      </main>
    </div>
  );
};

export default Home;
